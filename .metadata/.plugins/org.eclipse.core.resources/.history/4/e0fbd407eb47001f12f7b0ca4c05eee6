package com.test.sku.network;

import java.net.*;
import java.io.*;
import java.util.*;

public class Client {
	static Scanner kbd = new Scanner(System.in);

	public static void main(String[] args) {
		// 클라이언트 소켓 이용하여 서버에 접속
		try {
			Socket s = new Socket("localhost", 6000);

			InputStream in = s.getInputStream();
			/*InputStreamReader isr = new InputStreamReader(in);
			BufferedReader br = new BufferedReader(isr);
			String line = br.readLine();*/
			ObjectInputStream ois = new ObjectInputStream(in);
			//ChatMsg cm = new ChatMsg();
			//ois.readObject();
			System.out.println(ois.readObject()); // 아이디 암호: 
			
			String uid = kbd.next();
			String pwd = kbd.nextLine().trim();
			
			// 출력 스트림
			OutputStream out = s.getOutputStream();
			OutputStreamWriter osw = new OutputStreamWriter(out);
			PrintWriter pout = new PrintWriter(osw);
			pout.println(uid + " : " + pwd);
			pout.flush();
			
			// who, to whom, what
			
			
		} catch (UnknownHostException e) {
			e.printStackTrace();
		} catch (IOException e) {
			e.printStackTrace();
		} catch (Exception e) {
			e.printStackTrace();
		}
		
		System.out.println("클라이언트 종료");
		
	}

}
