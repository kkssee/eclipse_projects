package com.test.sku.pds;

import java.io.*;
import java.net.*;
import java.util.*;

public class ServerThread extends Thread {
	private Socket s;
	private ObjectOutputStream oos;
	private ObjectInputStream ois;
	private static List<PDSVO> list = new ArrayList<>();
	private FileIO fio = new FileIO();
	private PDSResponse pResp;
	private PDSRequest prq;
	
	public static String upPath = "C:/test/uploads/";
	//public static String downPath = "";
	
	public ServerThread(Socket s) {
		this.s = s;
		try {			
			 oos = new ObjectOutputStream(s.getOutputStream());
			 ois = new ObjectInputStream(s.getInputStream());
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	@Override
	public void run() {
		try {
			while(true) {
				pResp = new PDSResponse("Server", "Client", "파일 업로드(u), 목록보기(s), 상세보기(i),"
																	+ " 제목으로 검색(f), 수정(m), 삭제(d), 종료(x)");
				oos.writeObject(pResp);
				oos.flush();
				
				prq = (PDSRequest)ois.readObject();
				
				if(prq.upload) {
					
				}
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	
}
