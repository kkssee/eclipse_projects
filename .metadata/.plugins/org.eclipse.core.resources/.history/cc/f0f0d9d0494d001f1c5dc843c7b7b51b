package com.test.sku.pds;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.util.List;

import com.test.sku.cmon.FileInfo;

public class FileIO {
	public static String upPath = "C:/test/uploads/";
	private static String downPath = "C:/test/downloads/";
	public static String path = "list_fileinfo.ser";
	
	public static byte[] upload(String fname) {					
		try {
			FileInputStream fin = new FileInputStream(upPath + fname);
			byte[] imgData = fin.readAllBytes();
			
			fin.close();

			return imgData;
		} catch (Exception e) {
			e.printStackTrace();
	    }
		   return null;						
	}
	
	public static long size(String fname) {
		File f = new File(upPath + fname);
		long len = f.length();			
		return len;
		
	}
	
	public static void serialiaze(List<FileInfo> list) {
		ObjectOutputStream oos;
		try {
			oos = new ObjectOutputStream(new FileOutputStream(downPath + path));
			oos.writeObject(list);
			oos.close();
		} catch (Exception e) {
			e.printStackTrace();
		} 
	}
		
	public	static List<FileInfo> deserializalize() {
			ObjectInputStream ois;
			try {
				ois = new ObjectInputStream(new FileInputStream(downPath + path));
				List<FileInfo> list = (List<FileInfo>)ois.readObject();
				ois.close();
				return list;
			} catch (Exception e) {
				e.printStackTrace();
				return null;
			} 
			
	}
}
